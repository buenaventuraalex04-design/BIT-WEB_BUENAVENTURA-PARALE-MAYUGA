<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Bachelor in Industrial Technology (Major in Computer Technology) - News & Events</title>

  <!-- FIX: tanggal white spaces sa pinaka-taas / pinaka-baba -->
  <style>
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100%;
      background-color: #4a0000; /* dark fallback para hindi white yung overscroll background */
      overflow-x: hidden;
      overscroll-behavior: none;
    }
  </style>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config={
      theme:{
        extend:{
          colors:{
            primary:'#550000',
            secondary:'#800000',
            dark:'#4a0000',
            light:'#faeef0'
          }
        }
      }
    };
  </script>

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24..48,400..700,0..1,-50..200" />
  <style>
    .material-symbols-rounded{
      font-family:'Material Symbols Rounded' !important;
      font-variation-settings:'FILL' 1,'wght' 600,'GRAD' 0,'opsz' 24;
      display:inline-block;
      line-height:1;
      vertical-align:middle;
      -webkit-font-feature-settings:'liga';
      -webkit-font-smoothing:antialiased;
    }
  </style>
</head>

<!-- FLEX LAYOUT para footer laging nasa baba -->
<body class="min-h-screen flex flex-col text-zinc-800 bg-[url('assets/img/bgnew.png')] bg-cover bg-fixed bg-center">

  <!-- MAIN CONTENT -->
  <main class="flex-1">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-secondary text-white shadow">
      <div class="max-w-6xl mx-auto px-4">
        <nav class="flex items-center justify-between py-3">
          <!-- Logo + Title -->
          <a href="index.html" aria-label="Home" class="flex items-center gap-3">
            <img src="assets/img/logo-placeholder.png" alt="logo"
                 class="w-14 h-14 md:w-16 md:h-16 rounded-full object-cover border-2 border-white/70 shadow">
            <span class="text-lg md:text-xl font-semibold" style="font-family:'Times New Roman', Times, serif;">
              Southern Luzon State University
            </span>
          </a>

          <!-- Nav links -->
          <ul class="hidden md:flex items-center gap-8 font-semibold">
            <li>
              <a href="index.html" class="text-white/90 px-3 py-1 rounded-md transition hover:bg-white hover:text-secondary">
                Home
              </a>
            </li>
            <li>
              <a href="about.html" class="text-white px-3 py-1 rounded-md transition hover:bg-white hover:text-secondary">
                About
              </a>
            </li>
            <li>
              <!-- ACTIVE: News & Events -->
              <a href="news.html" aria-current="page"
                 class="px-3 py-1 rounded-md bg-white text-secondary transition hover:bg-white hover:text-secondary">
                News &amp; Events
              </a>
            </li>
            <li>
              <a href="#contact" class="text-white/90 px-3 py-1 rounded-md transition hover:bg-white hover:text-secondary">
                Contact
              </a>
            </li>
          </ul>

          <!-- Mobile menu -->
          <button id="burger" class="md:hidden flex flex-col gap-1.5" aria-label="Menu" aria-expanded="false">
            <span class="w-7 h-[3px] bg-white"></span>
            <span class="w-7 h-[3px] bg-white"></span>
            <span class="w-7 h-[3px] bg-white"></span>
          </button>
        </nav>

        <!-- Mobile Nav -->
        <ul id="mobileNav" class="hidden flex-col items-center gap-4 pb-4 font-semibold md:hidden text-white">
          <li><a class="hover:text-white" href="index.html">Home</a></li>
          <li><a class="text-white" href="about.html">About</a></li>
          <li><a class="hover:text-white" href="news.html">News & Events</a></li>
          <li><a class="hover:text-white" href="#contact">Contact</a></li>
        </ul>
      </div>
    </header>

    <!-- News -->
    <section class="py-16 bg-white/90">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center">Latest News & Events</h2>
        <div id="newsGrid" class="mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        <!-- No fallback: blank if no posts -->
      </div>
    </section>
  </main>

  <!-- Footer (SCROLLS WITH PAGE, WALANG WHITE SA BABA) -->
  <footer
    id="contact"
    class="bg-secondary text-white text-xs md:text-sm shadow-[0_-4px_10px_rgba(0,0,0,0.35)]"
  >
    <div class="max-w-6xl mx-auto px-4">
      
      <!-- Top Row -->
      <div class="py-3 flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
        
        <!-- Program Info -->
        <div class="space-y-1">
          <h3 class="font-semibold leading-snug text-sm md:text-base">
            BIT â€“ Industrial Technology
            <span class="font-normal text-[11px] md:text-sm">
              (Major in Computer Technology)
            </span>
          </h3>
          <p class="text-white/75 max-w-md text-[11px] md:text-sm">
            Shaping skilled, industry-ready computer technology professionals.
          </p>
        </div>

        <!-- Quick Links -->
        <nav class="flex flex-wrap items-center gap-2 text-[11px] md:text-sm">
          <a href="index.html"
            class="px-3 py-1.5 rounded-full bg-white/10 hover:bg-white/20 border border-white/15 transition">
            Home
          </a>
          <a href="about.html"
            class="px-3 py-1.5 rounded-full bg-white/10 hover:bg-white/20 border border-white/15 transition">
            About
          </a>
          <a href="news.html"
            class="px-3 py-1.5 rounded-full bg-white/10 hover:bg-white/20 border border-white/15 transition">
            News &amp; Events
          </a>
        </nav>

        <!-- Contact + Bigger Subscribe -->
        <div class="space-y-1.5 text-white/90 text-[11px] md:text-sm">
          <div class="flex items-center gap-2">
            <span class="material-symbols-rounded text-[18px]">mail</span>
            <span>buenaventuraalex04@gmail.com</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="material-symbols-rounded text-[18px]">call</span>
            <span>0930 176 6534</span>
          </div>

          <!-- BIGGER SUBSCRIBE BUTTON -->
          <button
            id="openSubscribe"
            class="mt-1 inline-flex items-center gap-2 px-5 py-2 rounded-lg bg-white/15 hover:bg-white/25 border border-white/20 font-semibold text-xs md:text-sm tracking-wide transition"
          >
            <span class="material-symbols-rounded text-[20px]">subscriptions</span>
            Subscribe
          </button>
        </div>
      </div>

      <!-- Bottom Bar -->
      <div class="border-t border-white/10 py-1.5 flex flex-col gap-1 md:flex-row md:items-center md:justify-between">
        <p class="text-white/70 text-[10px] md:text-[11px]">
          &copy; 2025 Bachelor in Industrial Technology (Major in Computer Technology). All rights reserved.  Images & trademarks belong to their respective owners.
        </p>

        <div class="flex flex-wrap items-center gap-2 text-white/60 text-[10px] md:text-[11px]">
          <span class="material-symbols-rounded text-[14px]">shield</span>
          <span>Secure &amp; Quality Education</span>
        </div>
      </div>

    </div>
  </footer>
  <!-- Subscribe Modal (centered) -->
  <div id="subscribeModal" class="fixed inset-0 hidden grid place-items-center bg-black/60 p-4 z-[60]" role="dialog" aria-modal="true" tabindex="-1">
    <div class="w-full max-w-md bg-white rounded-xl shadow-xl max-h-[90vh] flex flex-col">
      <div class="bg-gradient-to-r from-primary to-secondary text-white px-5 py-3 flex items-center justify-between rounded-t-xl">
        <h4 class="font-bold">Subscribe to updates</h4>
        <button id="closeSubscribe" class="text-2xl leading-none" aria-label="Close">&times;</button>
      </div>
      <form id="subscribeForm" class="p-5 overflow-auto">
        <label class="block font-semibold mb-1" for="subEmail">Email</label>
        <div class="relative">
          <span class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400">mail</span>
          <input id="subEmail" type="email" required placeholder="you@example.com"
                 class="w-full border rounded-lg pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-secondary"/>
        </div>
        <div class="mt-4 flex justify-end gap-2">
          <button type="button" id="cancelSubscribe" class="px-4 py-2 rounded bg-zinc-100 hover:bg-zinc-200">Cancel</button>
          <button type="submit" class="px-4 py-2 rounded bg-secondary hover:bg-primary text-white font-semibold">Subscribe</button>
        </div>
      </form>
    </div>
  </div>

  <div id="toast" class="fixed left-1/2 -translate-x-1/2 bottom-6 bg-zinc-900 text-white px-4 py-2 rounded-lg opacity-0 pointer-events-none transition">
    Subscribed!
  </div>

  <script>
    const burger=document.getElementById('burger'),
          mobileNav=document.getElementById('mobileNav');
    burger?.addEventListener('click',()=>{
      const open=mobileNav.classList.toggle('hidden')===false;
      burger.setAttribute('aria-expanded',String(open));
    });

    const openBtn=document.getElementById('openSubscribe'), modal=document.getElementById('subscribeModal'),
          closeBtn=document.getElementById('closeSubscribe'), cancelBtn=document.getElementById('cancelSubscribe'),
          form=document.getElementById('subscribeForm'), emailInp=document.getElementById('subEmail'),
          toast=document.getElementById('toast');

    function openModal(){
      modal.classList.remove('hidden');
      document.body.classList.add('overflow-hidden');
      setTimeout(()=>emailInp.focus(),50);
    }
    function closeModal(){
      modal.classList.add('hidden');
      document.body.classList.remove('overflow-hidden');
    }
    function showToast(msg){
      toast.textContent=msg;
      toast.classList.remove('opacity-0');
      setTimeout(()=>toast.classList.add('opacity-0'),1800);
    }

    openBtn?.addEventListener('click',openModal);
    closeBtn?.addEventListener('click',closeModal);
    cancelBtn?.addEventListener('click',closeModal);
    modal?.addEventListener('click',e=>{ if(e.target===modal) closeModal(); });
    window.addEventListener('keydown',e=>{ if(e.key==='Escape') closeModal(); });

    // Render posts (no fallback)
    (function(){
      const grid=document.getElementById('newsGrid');
      function load(){
        try{
          return JSON.parse(localStorage.getItem('bit_news')||'[]');
        }catch{
          return[];
        }
      }
      const posts=load().filter(p=>p.published).sort((a,b)=>(b.date||'').localeCompare(a.date||''));
      if(!posts.length){ return; } // leave blank
      for(const p of posts){
        const card=document.createElement('div');
        card.className='bg-white rounded-lg overflow-hidden shadow hover:shadow-lg transition';
        const imgHtml=p.imgDataUrl
          ? `<img src="${p.imgDataUrl}" alt="${(p.imgAlt||'').replace(/"/g,'&quot;')}" class="w-full h-52 object-cover">`
          : '';
        card.innerHTML = `
          ${imgHtml}
          <div class="p-4">
            <span class="text-secondary text-sm block mb-1">${p.date||''}</span>
            <h3 class="font-bold mb-2">${escapeHtml(p.title)}</h3>
            <p class="text-sm">${escapeHtml(p.summary)}</p>
            <a href="news-detail.html?id=${encodeURIComponent(p.id)}"
               class="inline-flex items-center gap-2 mt-3 bg-secondary hover:bg-primary text-white px-4 py-2 rounded transition">
              <span class="material-symbols-rounded">read_more</span> Read More
            </a>
          </div>`;
        grid.appendChild(card);
      }
      function escapeHtml(s){
        return (s||'').replace(/[&<>"']/g,c=>({
          '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
        }[c]));
      }
    })();
  </script>
</body>
</html>
